<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Request History</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
</head>
<body>
<div class="container mt-5">
    <h2 class="mb-4">Your Blood Request History</h2>

    {% if blood_requests %}
    <table class="table table-bordered table-striped">
        <thead>
            <tr>
                <th>ID</th>
                <th>Blood Group</th>
                <th>Units</th>
                <th>Reason</th>
                <th>Requested At</th>
                <th>Status</th>
            </tr>
        </thead>
        <tbody>
            {% for req in blood_requests %}
            <tr>
                <td>{{ req.id }}</td>
                <td>{{ req.blood_group }}</td>
                <td>{{ req.units }}</td>
                <td>{{ req.reason }}</td>
                <td>{{ req.requested_at|date:"d M Y H:i" }}</td>
                <td>
                    {% if req.status == 'Approved' %}
                         <span class="text-success fw-bold">Approved</span>
                    {% elif req.status == 'Pending' %}
                        <span class="text-warning fw-bold">Pending</span>
                    {% elif req.status == 'Rejected' %}
                        <span class="text-danger fw-bold">Rejected</span>
                    {% else %}
                        <span class="fw-bold">{{ req.status }}</span>
                    {% endif %} 
                    
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <p class="text-center fst-italic">You have no blood requests yet.</p>
    {% endif %}
</div>
</body>
</html>
